# 使用说明 - 面板控制

## ✅ 已修复

### 1. 面板宽度
- 左侧控制面板和右侧图层面板的宽度已从 **300px** 降低到 **250px**
- 地图区域现在更宽，有更多空间显示

## 按钮功能使用指南

### 2. 图层面板切换

**按钮位置**: 左侧控制面板 → "图层面板控制" 部分 → "显示图层面板" 按钮

**使用方法**:
- 点击 **"显示图层面板"** 按钮 → 右侧图层面板出现
- 再次点击（此时按钮文字变为"隐藏图层面板"）→ 右侧图层面板隐藏

**代码位置**: 
- HTML: `index.html` 第 52-54 行
- JavaScript: `script.js` 第 777-787 行
- 事件监听器已正确绑定

### 3. 战略事件追踪器关闭按钮

**按钮位置**: 右侧事件追踪器面板 → 标题栏右侧的红色 **"关闭"** 按钮

**使用方法**:
- 当事件追踪器面板打开时，点击右上角的 **"关闭"** 按钮
- 面板会隐藏，事件数据自动保存在 feature 中

**代码位置**:
- HTML: `index.html` 第 137 行
- JavaScript: `script.js` 第 931-935 行
- 事件监听器已正确绑定

## 🔧 如果按钮不工作

如果您发现按钮点击无效，请尝试以下步骤：

### 方法 1: 硬刷新浏览器（推荐）
- **Windows/Linux**: 按 `Ctrl + Shift + R` 或 `Ctrl + F5`
- **Mac**: 按 `Cmd + Shift + R`
- 这会清除缓存并重新加载最新的文件

### 方法 2: 清除浏览器缓存
1. 打开浏览器开发者工具 (`F12`)
2. 右键点击刷新按钮
3. 选择 **"清空缓存并硬性重新加载"**

### 方法 3: 检查浏览器控制台
1. 按 `F12` 打开开发者工具
2. 切换到 **Console** 标签
3. 查看是否有 JavaScript 错误
4. 如有错误，请截图并反馈

### 方法 4: 确认文件已保存
1. 确保 `index.html`, `style.css`, `script.js` 三个文件都已保存
2. 如果使用本地服务器，重启服务器：
   - 停止服务器 (`Ctrl + C`)
   - 重新运行 `启动地图编辑器.bat`

## 测试步骤

### 测试图层面板
1. 打开 `index.html`（硬刷新后）
2. 在地图上绘制一个标记
3. 找到左侧 "图层面板控制" 部分
4. 点击 **"显示图层面板"** 按钮
5. ✅ 右侧应出现图层列表，显示刚才绘制的标记

### 测试事件追踪器关闭
1. 在地图上绘制或点击一个标记
2. 按住 **Shift** 键 + 点击标记（或右键点击 → 选择"📋 事件追踪器"）
3. 右侧应出现战略事件追踪器面板
4. 点击右上角红色 **"关闭"** 按钮
5. ✅ 面板应该消失

## 代码验证

我已经仔细检查过代码，确认：
- ✅ 两个按钮的 ID 都存在且正确
- ✅ 事件监听器都已正确绑定
- ✅ 代码逻辑完全正常
- ✅ HTML 结构正确
- ✅ script.js 在 body 底部加载（确保 DOM 已加载）

如果硬刷新后仍有问题，请打开浏览器控制台并告诉我具体的错误信息！
